{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jordonmarchesano/Desktop/Desktop - Jordon\\u2019s MacBook Pro/susaf/sus-af-skateboards/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jordonmarchesano/Desktop/Desktop - Jordon\\u2019s MacBook Pro/susaf/sus-af-skateboards/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jordonmarchesano/Desktop/Desktop - Jordon\\u2019s MacBook Pro/susaf/sus-af-skateboards/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import Header from\"../components/Header\";import Card from\"../components/Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Shirts=function Shirts(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shirt=_useState2[0],setShirt=_useState2[1];var onAdd=props.onAdd,cartItems=props.cartItems;useEffect(function(){shirts();},[]);var _useState3=useState(\"small\"),_useState4=_slicedToArray(_useState3,2),sizeSelector=_useState4[0],setSelector=_useState4[1];var shirts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:5000/api/shirts');case 2:response=_context.sent;_context.t0=setShirt;_context.next=6;return response.json();case 6:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 8:case\"end\":return _context.stop();}},_callee);}));return function shirts(){return _ref.apply(this,arguments);};}();var shirtCartQty=function shirtCartQty(productId,size){var shirtCartItems=0;for(var i=0;i<cartItems.length;i++){if(productId===cartItems[i].item._id&&size===cartItems[i].size){shirtCartItems=shirtCartItems+cartItems[i].quantity;console.log(\"shirtCart Items in func\",shirtCartItems);}}return shirtCartItems;};var handleSelectorChange=function handleSelectorChange(e){setSelector(e.target.value);};var handleAddToCart=function handleAddToCart(product){console.log(\"PRODUCT in handle add to cart\",product);onAdd(product,sizeSelector);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 mt-10 text-4xl font-extrabold text-center \",children:\"Shirts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-56 grid grid-cols-3 gap-4 content-start \",children:shirt.map(function(product){var cartAmount=0;var stockAmount=0;stockAmount=product.sizes[sizeSelector].quantity;cartAmount=shirtCartQty(product._id,sizeSelector);var rows=[];rows.push(/*#__PURE__*/_jsx(\"option\",{value:product.sizes.small.size,children:product.sizes.small.size},product.sizes.small.size));rows.push(/*#__PURE__*/_jsx(\"option\",{value:product.sizes.medium.size,children:product.sizes.medium.size},product.sizes.medium.size));rows.push(/*#__PURE__*/_jsx(\"option\",{value:product.sizes.large.size,children:product.sizes.large.size},product.sizes.large.size));return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"py-10 px-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg py-1 px-2\",children:[/*#__PURE__*/_jsx(Card,{name:product.name,img:product.img,price:product.price},product._id),/*#__PURE__*/_jsx(\"select\",{name:\"sSelector\",className:\"bg-grey border border-black  py-0.75 px-1 ms-2 relative \",onChange:handleSelectorChange,children:rows.map(function(option){return option;})})]}),cartAmount<stockAmount?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleAddToCart(product);},className:\"bg-transparent hover:bg-black-400 text-black-700 font-semibold  py-.75 px-2 ms-2 border border-black hover:border-transparent rounded\",children:\"Add \"}):/*#__PURE__*/_jsx(\"h3\",{children:\"You have the maximum boards in your cart available\"})]})},product._id);})})]});};export default Shirts;","map":{"version":3,"names":["React","useState","useEffect","Header","Card","jsx","_jsx","jsxs","_jsxs","Shirts","props","_useState","_useState2","_slicedToArray","shirt","setShirt","onAdd","cartItems","shirts","_useState3","_useState4","sizeSelector","setSelector","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","sent","t0","json","t1","stop","apply","arguments","shirtCartQty","productId","size","shirtCartItems","i","length","item","_id","quantity","console","log","handleSelectorChange","e","target","value","handleAddToCart","product","children","className","map","cartAmount","stockAmount","sizes","rows","push","small","medium","large","name","img","price","onChange","option","onClick"],"sources":["/Users/jordonmarchesano/Desktop/Desktop - Jordonâ€™s MacBook Pro/susaf/sus-af-skateboards/client/src/pages/Shirts.jsx"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Header from \"../components/Header\";\nimport Card from \"../components/Card\";\n\nconst Shirts = (props) =>{\n    const [shirt, setShirt] = useState([]);\n    const {onAdd, cartItems} = props;\n    useEffect(()=>{\n    shirts()\n    },[])\n\n    const [sizeSelector, setSelector] = useState(\"small\");\n  \n    const shirts = async () =>{\n    const response = await fetch('http://localhost:5000/api/shirts');\n\n    setShirt(await response.json())\n}\n\nconst shirtCartQty = (productId, size) =>{\n    let shirtCartItems = 0;\n    for (let i = 0; i < cartItems.length; i++){\n        if ( productId === cartItems[i].item._id && size === cartItems[i].size ){\n            shirtCartItems = shirtCartItems + cartItems[i].quantity;\n            console.log(\"shirtCart Items in func\", shirtCartItems);\n        }\n    } return(shirtCartItems);\n}\n\nconst handleSelectorChange = (e) => {\n    setSelector(e.target.value);\n    };\n\nconst handleAddToCart = (product) => {\n    console.log(\"PRODUCT in handle add to cart\", product)\n    onAdd(product, sizeSelector);\n    \n};\n    return(\n        <div>\n       <Header/>\n            <h2 className=\"mb-4 mt-10 text-4xl font-extrabold text-center \">Shirts</h2>\n            <div className=\"h-56 grid grid-cols-3 gap-4 content-start \">\n                {shirt.map((product)=>{\n                       let cartAmount = 0;\n                       let stockAmount = 0;\n                       stockAmount = product.sizes[sizeSelector].quantity\n                       cartAmount = shirtCartQty(product._id,sizeSelector);\n                       const rows = [];\n                       rows.push(<option value={product.sizes.small.size} key={product.sizes.small.size}>{product.sizes.small.size}</option>)\n                       rows.push(<option value={product.sizes.medium.size} key={product.sizes.medium.size}>{product.sizes.medium.size}</option>)\n                       rows.push(<option value={product.sizes.large.size} key={product.sizes.large.size}>{product.sizes.large.size}</option>)\n                        return(\n                            <div key={product._id} >\n                            <div className=\"py-10 px-10\">\n                            <div className=\"text-lg py-1 px-2\" >\n                            <Card\n                            key={product._id}\n                            name = {product.name}\n                            img = {product.img}\n                            price = {product.price}\n                           \n                            />\n                            <select name=\"sSelector\" className=\"bg-grey border border-black  py-0.75 px-1 ms-2 relative \" onChange={handleSelectorChange}>\n                                {rows.map((option) => option )}\n                            </select>\n                            </div>\n                            {cartAmount < stockAmount ? (\n                                <button onClick={() => handleAddToCart(product)}\n                                className=\"bg-transparent hover:bg-black-400 text-black-700 font-semibold \n                                py-.75 px-2 ms-2 border border-black hover:border-transparent rounded\">\n                                Add </button> ):(\n                                <h3>You have the maximum boards in your cart available</h3>\n                            )}    \n                            </div>\n                            </div>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\n\nexport default Shirts;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}